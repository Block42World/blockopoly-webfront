<!DOCTYPE html>
<html>
<head>
	<title>house orbit control</title>
</head>
<body>

<script src="js/threejs/three.js"></script>
<!--offical library-->
<script src="js/threejs/threejsplugin/Projector.js"></script>
<script src="js/threejs/threejsplugin/CanvasRenderer.js"></script>
<script src="js/threejs/threejsplugin/stats.min.js"></script>
<script src="js/threejs/threejsplugin/FBXLoader.js"></script>
<script src="js/threejs/threejsplugin/OBJLoader.js"></script>
<script src="js/threejs/threejsplugin/MTLLoader.js"></script>
<script src="js/threejs/threejsplugin/OrbitControls.js"></script>
<script src="js/threejs/threejsplugin/dat.gui.min.js"></script>
<script src="js/threejs/threejsplugin/inflate.min.js"></script>

<!--outline-->
<script src="js/threejs/threejsplugin/Detector.js"></script>
<script src="js/threejs/threejsplugin/CopyShader.js"></script>
<script src="js/threejs/threejsplugin/FXAAShader.js"></script>
<script src="js/threejs/threejsplugin/EffectComposer.js"></script>
<script src="js/threejs/threejsplugin/RenderPass.js"></script>
<script src="js/threejs/threejsplugin/ShaderPass.js"></script>
<script src="js/threejs/threejsplugin/OutlinePass.js"></script>

<!--the library we write-->
<script src="js/block42/JimThree.js"></script>
<script src="js/block42/customOutline.js"></script>

<!--vox.js-->
<script src="js/voxjs/vox.js"></script>


<script type="text/javascript">
init();

var poslist = [];
var id = 0;

for (var xi = 0; xi <10; xi++) {
	for (var yi = 0; yi <10; yi++) {

		var pos = [xi*128, yi*128];
		poslist.push(pos);


		new THREE.MTLLoader()
		.setPath("assets/")
		.load( 'Shibuya.mtl', function ( materials ) {

			materials.preload();

			new THREE.OBJLoader()
				.setMaterials( materials )
				.load( 'assets/Shibuya.obj', function ( object ) {
					id++;

					object.position.x += poslist[id][0];
					object.position.z += poslist[id][1];
					scene.add( object );
					//console.log(poslist[id]);
				});

		} );
		
	}
}



var onProgress = function ( xhr ) {

	if ( xhr.lengthComputable ) {

		var percentComplete = xhr.loaded / xhr.total * 100;
		console.log( Math.round( percentComplete, 2 ) + '% downloaded' );

	}

};

var onError = function ( xhr ) { };








</script>
</body>
</html>